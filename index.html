<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Database Theory - H·ªçc SQL To√†n Di·ªán</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: #333;
        line-height: 1.6;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
      }

      header {
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        padding: 30px;
        border-radius: 20px;
        margin-bottom: 30px;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
        text-align: center;
      }

      h1 {
        color: #667eea;
        font-size: 2.5em;
        margin-bottom: 10px;
      }

      .subtitle {
        color: #666;
        font-size: 1.1em;
        margin-bottom: 20px;
      }

      .contact-info {
        display: inline-flex;
        align-items: center;
        gap: 10px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 12px 24px;
        border-radius: 50px;
        text-decoration: none;
        font-weight: 600;
        transition: all 0.3s;
        margin-top: 10px;
      }

      .contact-info:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
      }

      .search-box {
        margin: 20px 0;
        position: relative;
      }

      .search-box input {
        width: 100%;
        padding: 15px 50px 15px 20px;
        border: 2px solid #667eea;
        border-radius: 50px;
        font-size: 16px;
        outline: none;
        transition: all 0.3s;
      }

      .search-box input:focus {
        box-shadow: 0 5px 20px rgba(102, 126, 234, 0.3);
      }

      .search-icon {
        position: absolute;
        right: 20px;
        top: 50%;
        transform: translateY(-50%);
        color: #667eea;
        font-size: 20px;
      }

      .nav-tabs {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        background: rgba(255, 255, 255, 0.95);
        padding: 20px;
        border-radius: 15px;
        margin-bottom: 30px;
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
      }

      .nav-tab {
        padding: 12px 24px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border: none;
        border-radius: 25px;
        cursor: pointer;
        font-size: 14px;
        font-weight: 600;
        transition: all 0.3s;
        flex: 1;
        min-width: 150px;
      }

      .nav-tab:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
      }

      .nav-tab.active {
        background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
      }

      .content-section {
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        padding: 30px;
        border-radius: 20px;
        margin-bottom: 20px;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
        display: none;
        animation: fadeIn 0.5s;
      }

      .content-section.active {
        display: block;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .topic-card {
        background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        padding: 25px;
        border-radius: 15px;
        margin-bottom: 20px;
        border-left: 5px solid #667eea;
        transition: all 0.3s;
      }

      .topic-card:hover {
        transform: translateX(10px);
        box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
      }

      .topic-card h3 {
        color: #667eea;
        margin-bottom: 15px;
        font-size: 1.5em;
      }

      .topic-card h4 {
        color: #764ba2;
        margin: 15px 0 10px 0;
      }

      .code-block {
        background: #2d3748;
        color: #e2e8f0;
        padding: 20px;
        border-radius: 10px;
        margin: 15px 0;
        overflow-x: auto;
        font-family: "Courier New", monospace;
        font-size: 14px;
        line-height: 1.5;
      }

      .example {
        background: #fff3cd;
        border-left: 4px solid #ffc107;
        padding: 15px;
        margin: 15px 0;
        border-radius: 8px;
      }

      .example-title {
        font-weight: bold;
        color: #856404;
        margin-bottom: 10px;
      }

      .note {
        background: #d1ecf1;
        border-left: 4px solid #0c5460;
        padding: 15px;
        margin: 15px 0;
        border-radius: 8px;
      }

      ul,
      ol {
        margin-left: 30px;
        margin-top: 10px;
      }

      li {
        margin-bottom: 8px;
      }

      .comparison-table {
        width: 100%;
        border-collapse: collapse;
        margin: 20px 0;
      }

      .comparison-table th,
      .comparison-table td {
        border: 1px solid #ddd;
        padding: 12px;
        text-align: left;
      }

      .comparison-table th {
        background: #667eea;
        color: white;
      }

      .comparison-table tr:nth-child(even) {
        background: #f8f9fa;
      }

      .highlight {
        background: #ffeb3b;
        padding: 2px 6px;
        border-radius: 3px;
      }

      footer {
        text-align: center;
        color: white;
        padding: 30px;
        margin-top: 30px;
        background: rgba(0, 0, 0, 0.2);
        border-radius: 15px;
      }

      .hidden {
        display: none;
      }

      @media (max-width: 768px) {
        h1 {
          font-size: 1.8em;
        }
        .nav-tab {
          min-width: 100%;
        }
        .topic-card {
          padding: 15px;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <header>
        <h1>üìö Database Theory</h1>
        <p class="subtitle">
          T√†i li·ªáu h·ªçc SQL to√†n di·ªán - T·ª´ c∆° b·∫£n ƒë·∫øn n√¢ng cao
        </p>
        <a
          href="https://www.facebook.com/tuanvaquan"
          target="_blank"
          class="contact-info"
        >
          üìò Li√™n h·ªá Facebook
        </a>
        <div class="search-box">
          <input
            type="text"
            id="searchInput"
            placeholder="T√¨m ki·∫øm ki·∫øn th·ª©c... (v√≠ d·ª•: JOIN, INDEX, TRANSACTION)"
          />
          <span class="search-icon">üîç</span>
        </div>
      </header>

      <div class="nav-tabs">
        <button class="nav-tab active" data-section="basics">
          Ki·∫øn th·ª©c c∆° b·∫£n
        </button>
        <button class="nav-tab" data-section="constraints">
          Constraints & Index
        </button>
        <button class="nav-tab" data-section="queries">
          Truy v·∫•n n√¢ng cao
        </button>
        <button class="nav-tab" data-section="functions">
          Functions & Ranking
        </button>
        <button class="nav-tab" data-section="advanced">N√¢ng cao</button>
        <button class="nav-tab" data-section="normalization">Chu·∫©n h√≥a</button>
      </div>

      <div id="basics" class="content-section active">
        <div class="topic-card">
          <h3>1. C√°c ki·ªÉu d·ªØ li·ªáu trong SQL</h3>
          <h4>Numeric Types (Ki·ªÉu s·ªë)</h4>
          <ul>
            <li><strong>TINYINT:</strong> S·ªë nguy√™n t·ª´ 0 ƒë·∫øn 255</li>
            <li>
              <strong>SMALLINT:</strong> S·ªë nguy√™n nh·ªè (-32,768 ƒë·∫øn 32,767)
            </li>
            <li>
              <strong>INT/INTEGER:</strong> S·ªë nguy√™n l·ªõn (-2,147,483,648 ƒë·∫øn
              2,147,483,647)
            </li>
            <li><strong>BIGINT:</strong> S·ªë nguy√™n r·∫•t l·ªõn</li>
            <li>
              <strong>DECIMAL(p, s)/NUMERIC(p, s):</strong> S·ªë th·∫≠p ph√¢n v·ªõi p
              t·ªïng s·ªë ch·ªØ s·ªë v√† s ch·ªØ s·ªë ph·∫ßn th·∫≠p ph√¢n
            </li>
            <li>
              <strong>FLOAT(n):</strong> S·ªë th·ª±c c√≥ ƒë·ªô ch√≠nh x√°c ƒë√¥i khi kh√¥ng
              ho√†n h·∫£o
            </li>
          </ul>
          <div class="example">
            <div class="example-title">V√≠ d·ª• trong b·∫£ng products:</div>
            <div class="code-block">
              CREATE TABLE products ( product_id INT PRIMARY KEY, product_name
              VARCHAR(100), brand_id INT, category_id INT, model_year INT,
              list_price DECIMAL(10, 2) );
            </div>
          </div>
        </div>

        <div class="topic-card">
          <h3>2. Ph√¢n bi·ªát CHAR vs VARCHAR</h3>
          <table class="comparison-table">
            <tr>
              <th>CHAR</th>
              <th>VARCHAR</th>
            </tr>
            <tr>
              <td>ƒê·ªô d√†i c·ªë ƒë·ªãnh</td>
              <td>ƒê·ªô d√†i thay ƒë·ªïi</td>
            </tr>
            <tr>
              <td>ƒêi·ªÅn kho·∫£ng tr·∫Øng n·∫øu ng·∫Øn h∆°n</td>
              <td>Ch·ªâ d√πng kh√¥ng gian c·∫ßn thi·∫øt</td>
            </tr>
            <tr>
              <td>D√πng cho d·ªØ li·ªáu c·ªë ƒë·ªãnh</td>
              <td>D√πng cho d·ªØ li·ªáu thay ƒë·ªïi</td>
            </tr>
          </table>
          <div class="example">
            <div class="example-title">V√≠ d·ª•:</div>
            <div class="code-block">
              -- CHAR cho store_name INSERT INTO stores (store_name) VALUES
              ('BikeStore'); -- VARCHAR cho email INSERT INTO customers(email)
              VALUES ('abcdefg2342343@gmail.com');
            </div>
          </div>
        </div>

        <div class="topic-card">
          <h3>3. Chuy·ªÉn ƒë·ªïi ki·ªÉu d·ªØ li·ªáu</h3>
          <ul>
            <li><strong>CAST:</strong> Chuy·ªÉn ƒë·ªïi ki·ªÉu d·ªØ li·ªáu chu·∫©n</li>
            <li>
              <strong>CONVERT:</strong> T∆∞∆°ng t·ª± CAST nh∆∞ng c√≥ th√™m t√πy ch·ªçn
              ƒë·ªãnh d·∫°ng (ch·ªâ SQL Server)
            </li>
          </ul>
          <div class="example">
            <div class="example-title">V√≠ d·ª•:</div>
            <div class="code-block">
              -- Chuy·ªÉn s·ªë th√†nh chu·ªói SELECT CAST(123 AS VARCHAR); -- Chuy·ªÉn
              ng√†y sang ƒë·ªãnh d·∫°ng dd/MM/yyyy SELECT CONVERT(VARCHAR, GETDATE(),
              103);
            </div>
          </div>
        </div>

        <div class="topic-card">
          <h3>4. Ph√¢n bi·ªát TRUNCATE vs DROP vs DELETE</h3>
          <table class="comparison-table">
            <tr>
              <th>L·ªánh</th>
              <th>Ch·ª©c nƒÉng</th>
              <th>C√≥ th·ªÉ rollback?</th>
            </tr>
            <tr>
              <td>TRUNCATE</td>
              <td>X√≥a t·∫•t c·∫£ d·ªØ li·ªáu, gi·ªØ c·∫•u tr√∫c b·∫£ng</td>
              <td>Kh√¥ng</td>
            </tr>
            <tr>
              <td>DROP</td>
              <td>X√≥a c·∫£ b·∫£ng l·∫´n d·ªØ li·ªáu</td>
              <td>Kh√¥ng</td>
            </tr>
            <tr>
              <td>DELETE</td>
              <td>X√≥a d·ªØ li·ªáu theo ƒëi·ªÅu ki·ªán</td>
              <td>C√≥</td>
            </tr>
          </table>
          <div class="example">
            <div class="example-title">V√≠ d·ª•:</div>
            <div class="code-block">
              TRUNCATE TABLE orders; DROP TABLE stocks; DELETE FROM customers
              WHERE city = 'Tokyo';
            </div>
          </div>
        </div>

        <div class="topic-card">
          <h3>5. IDENTITY vs SEQUENCE</h3>
          <table class="comparison-table">
            <tr>
              <th>IDENTITY</th>
              <th>SEQUENCE</th>
            </tr>
            <tr>
              <td>T·ª± ƒë·ªông tƒÉng trong m·ªôt c·ªôt</td>
              <td>T·∫°o chu·ªói s·ªë d√πng cho nhi·ªÅu b·∫£ng</td>
            </tr>
            <tr>
              <td>G·∫Øn v·ªõi m·ªôt b·∫£ng c·ª• th·ªÉ</td>
              <td>ƒê·ªôc l·∫≠p, c√≥ th·ªÉ d√πng chung</td>
            </tr>
          </table>
          <div class="example">
            <div class="example-title">V√≠ d·ª• IDENTITY:</div>
            <div class="code-block">
              CREATE TABLE orders ( order_id INT IDENTITY(1, 1) PRIMARY KEY,
              customer_id INT, order_date DATE );
            </div>
          </div>
          <div class="example">
            <div class="example-title">V√≠ d·ª• SEQUENCE:</div>
            <div class="code-block">
              CREATE SEQUENCE seq_transaction_id START WITH 1 INCREMENT BY 1; --
              C√≥ th·ªÉ d√πng cho c·∫£ orders v√† invoices
            </div>
          </div>
        </div>

        <div class="topic-card">
          <h3>10. Th·ª© t·ª± th·ª±c thi SQL</h3>
          <div class="note">
            <strong>Th·ª© t·ª± th·ª±c thi c√°c m·ªánh ƒë·ªÅ:</strong>
            <ol>
              <li>
                <strong>FROM</strong> (bao g·ªìm JOIN) - X√°c ƒë·ªãnh ngu·ªìn d·ªØ li·ªáu
              </li>
              <li><strong>WHERE</strong> - L·ªçc d·ªØ li·ªáu</li>
              <li><strong>GROUP BY</strong> - Nh√≥m d·ªØ li·ªáu</li>
              <li><strong>HAVING</strong> - L·ªçc nh√≥m</li>
              <li><strong>SELECT</strong> - Ch·ªçn c·ªôt</li>
              <li><strong>ORDER BY</strong> - S·∫Øp x·∫øp</li>
            </ol>
            <p>
              <strong>L∆∞u √Ω:</strong> Th·ª© t·ª± vi·∫øt kh√¥ng ·∫£nh h∆∞·ªüng th·ª© t·ª± th·ª±c
              thi!
            </p>
          </div>
          <div class="example">
            <div class="example-title">
              V√≠ d·ª•: Kh√°ch h√†ng c√≥ √≠t nh·∫•t 3 ƒë∆°n t·ª´ 2024-01-01
            </div>
            <div class="code-block">
              SELECT c.customer_id, c.first_name, c.last_name, COUNT(o.order_id)
              AS total_orders FROM customers AS c JOIN orders AS o ON
              c.customer_id = o.customer_id WHERE o.order_date >= '2024-01-01'
              GROUP BY c.customer_id, c.first_name, c.last_name HAVING
              COUNT(o.order_id) > 2 ORDER BY total_orders DESC;
            </div>
          </div>
        </div>
      </div>

      <div id="constraints" class="content-section">
        <div class="topic-card">
          <h3>6. Constraints trong SQL</h3>
          <p>
            Constraints l√† c√°c r√†ng bu·ªôc tr√™n c·ªôt nh·∫±m b·∫£o v·ªá t√≠nh to√†n v·∫πn d·ªØ
            li·ªáu:
          </p>
          <ul>
            <li><strong>NOT NULL:</strong> Kh√¥ng cho ph√©p gi√° tr·ªã null</li>
            <li><strong>UNIQUE:</strong> ƒê·∫£m b·∫£o gi√° tr·ªã duy nh·∫•t</li>
            <li>
              <strong>PRIMARY KEY:</strong> ƒê·ªãnh danh duy nh·∫•t cho m·ªôt h√†ng
            </li>
            <li><strong>FOREIGN KEY:</strong> T·∫°o li√™n k·∫øt gi·ªØa c√°c b·∫£ng</li>
            <li><strong>CHECK:</strong> Ki·ªÉm tra gi√° tr·ªã theo ƒëi·ªÅu ki·ªán</li>
            <li><strong>DEFAULT:</strong> Gi√° tr·ªã m·∫∑c ƒë·ªãnh</li>
          </ul>
          <div class="example">
            <div class="example-title">V√≠ d·ª•:</div>
            <div class="code-block">
              ALTER TABLE orders ADD CONSTRAINT fk_customer FOREIGN KEY
              (customer_id) REFERENCES customers(customer_id);
            </div>
          </div>
        </div>

        <div class="topic-card">
          <h3>7. C√°ch t·∫°o Constraints</h3>
          <h4>1. Khi t·∫°o b·∫£ng:</h4>
          <div class="code-block">
            CREATE TABLE products ( product_id INT PRIMARY KEY, product_name
            VARCHAR(50) NOT NULL );
          </div>
          <h4>2. Sau khi t·∫°o b·∫£ng:</h4>
          <div class="code-block">
            ALTER TABLE products ADD CONSTRAINT unique_product_name UNIQUE
            (product_name);
          </div>
        </div>

        <div class="topic-card">
          <h3>8. UNIQUE vs PRIMARY KEY</h3>
          <table class="comparison-table">
            <tr>
              <th>UNIQUE</th>
              <th>PRIMARY KEY</th>
            </tr>
            <tr>
              <td>Cho ph√©p gi√° tr·ªã duy nh·∫•t</td>
              <td>ƒê·∫£m b·∫£o duy nh·∫•t v√† ƒë·ªãnh danh</td>
            </tr>
            <tr>
              <td>C√≥ th·ªÉ NULL (tr·ª´ khi NOT NULL)</td>
              <td>KH√îNG cho ph√©p NULL</td>
            </tr>
            <tr>
              <td>Nhi·ªÅu c·ªôt UNIQUE trong b·∫£ng</td>
              <td>Ch·ªâ M·ªòT PRIMARY KEY</td>
            </tr>
          </table>
          <div class="example">
            <div class="example-title">V√≠ d·ª•:</div>
            <div class="code-block">
              -- Primary Key ALTER TABLE stores ADD CONSTRAINT pk_store_id
              PRIMARY KEY (store_id); -- Unique ALTER TABLE customers ADD
              CONSTRAINT unique_email UNIQUE (email);
            </div>
          </div>
        </div>

        <div class="topic-card">
          <h3>9. Index trong SQL</h3>
          <p>
            <strong>Index</strong> l√† ƒë·ªëi t∆∞·ª£ng c∆° s·ªü d·ªØ li·ªáu gi√∫p tƒÉng t·ªëc ƒë·ªô
            truy v·∫•n b·∫±ng c√°ch l∆∞u con tr·ªè ƒë·∫øn d·ªØ li·ªáu.
          </p>
          <h4>C√°c lo·∫°i Index:</h4>
          <ul>
            <li>
              <strong>Clustered Index:</strong> S·∫Øp x·∫øp v√† l∆∞u tr·ªØ d·ªØ li·ªáu v·∫≠t
              l√Ω (ch·ªâ 1 tr√™n m·ªói b·∫£ng)
            </li>
            <li>
              <strong>Non-clustered Index:</strong> L∆∞u con tr·ªè ƒë·∫øn d·ªØ li·ªáu (c√≥
              th·ªÉ nhi·ªÅu)
            </li>
            <li><strong>Single-Column Index:</strong> Index tr√™n m·ªôt c·ªôt</li>
            <li><strong>Composite Index:</strong> Index tr√™n nhi·ªÅu c·ªôt</li>
            <li><strong>Unique Index:</strong> ƒê·∫£m b·∫£o gi√° tr·ªã duy nh·∫•t</li>
          </ul>
          <div class="example">
            <div class="example-title">V√≠ d·ª•:</div>
            <div class="code-block">
              -- Single-column index CREATE INDEX idx_customer_name ON customers
              (last_name); -- Composite index CREATE INDEX idx_name_department
              ON employees(first_name, department_id);
            </div>
          </div>
        </div>
      </div>

      <div id="queries" class="content-section">
        <div class="topic-card">
          <h3>11. WHERE vs HAVING</h3>
          <table class="comparison-table">
            <tr>
              <th>WHERE</th>
              <th>HAVING</th>
            </tr>
            <tr>
              <td>L·ªçc d·ªØ li·ªáu TR∆Ø·ªöC khi nh√≥m</td>
              <td>L·ªçc d·ªØ li·ªáu SAU khi nh√≥m</td>
            </tr>
            <tr>
              <td>Kh√¥ng d√πng v·ªõi h√†m t·ªïng h·ª£p</td>
              <td>D√πng v·ªõi h√†m t·ªïng h·ª£p</td>
            </tr>
          </table>
          <div class="example">
            <div class="example-title">V√≠ d·ª•:</div>
            <div class="code-block">
              -- WHERE: l·ªçc tr∆∞·ªõc SELECT * FROM customers WHERE city = 'Tokyo';
              -- HAVING: l·ªçc sau khi nh√≥m SELECT store_id, COUNT(product_id)
              FROM stocks GROUP BY store_id HAVING COUNT(product_id) > 10;
            </div>
          </div>
        </div>

        <div class="topic-card">
          <h3>12. UNION, MERGE, PIVOT, INTERSECT</h3>
          <h4>UNION / UNION ALL</h4>
          <ul>
            <li>
              <strong>UNION:</strong> K·∫øt h·ª£p k·∫øt qu·∫£ v√† lo·∫°i b·ªè tr√πng l·∫∑p
            </li>
            <li><strong>UNION ALL:</strong> Gi·ªØ l·∫°i c√°c h√†ng tr√πng l·∫∑p</li>
          </ul>
          <div class="code-block">
            SELECT product_name FROM products WHERE category_id = 1 UNION SELECT
            product_name FROM products WHERE category_id = 2;
          </div>

          <h4>MERGE</h4>
          <p>Th·ª±c hi·ªán INSERT, UPDATE, DELETE d·ª±a tr√™n ƒëi·ªÅu ki·ªán</p>
          <div class="code-block">
            MERGE INTO stocks AS target USING new_stocks AS source ON
            target.product_id = source.product_id WHEN MATCHED THEN UPDATE SET
            target.quantity = source.quantity;
          </div>

          <h4>PIVOT</h4>
          <p>Chuy·ªÉn d·ªØ li·ªáu t·ª´ h√†ng sang c·ªôt</p>
          <div class="code-block">
            SELECT * FROM ( SELECT store_id, model_year, list_price FROM
            products ) AS SourceTable PIVOT ( SUM(list_price) FOR model_year IN
            ([2022], [2023]) ) AS PivotTable;
          </div>

          <h4>INTERSECT</h4>
          <p>Tr·∫£ v·ªÅ c√°c h√†ng chung gi·ªØa hai truy v·∫•n</p>
          <div class="code-block">
            SELECT product_name FROM products WHERE brand_id = 1 INTERSECT
            SELECT product_name FROM products WHERE category_id = 3;
          </div>
        </div>

        <div class="topic-card">
          <h3>14. GROUP BY</h3>
          <p>
            D√πng ƒë·ªÉ nh√≥m d·ªØ li·ªáu theo m·ªôt ho·∫∑c nhi·ªÅu c·ªôt, th∆∞·ªùng k·∫øt h·ª£p v·ªõi h√†m
            t·ªïng h·ª£p.
          </p>
          <div class="example">
            <div class="example-title">V√≠ d·ª•:</div>
            <div class="code-block">
              SELECT store_id, COUNT(product_id) AS total_products FROM stocks
              GROUP BY store_id;
            </div>
          </div>
        </div>

        <div class="topic-card">
          <h3>16. JOIN trong SQL</h3>
          <h4>C√°c lo·∫°i JOIN:</h4>
          <ul>
            <li>
              <strong>INNER JOIN:</strong> Ch·ªâ l·∫•y h√†ng kh·ªõp ·ªü c·∫£ hai b·∫£ng
            </li>
            <li>
              <strong>LEFT JOIN:</strong> L·∫•y t·∫•t c·∫£ t·ª´ b·∫£ng tr√°i + h√†ng kh·ªõp t·ª´
              b·∫£ng ph·∫£i
            </li>
            <li>
              <strong>RIGHT JOIN:</strong> L·∫•y t·∫•t c·∫£ t·ª´ b·∫£ng ph·∫£i + h√†ng kh·ªõp
              t·ª´ b·∫£ng tr√°i
            </li>
            <li>
              <strong>FULL OUTER JOIN:</strong> L·∫•y t·∫•t c·∫£ h√†ng t·ª´ c·∫£ hai b·∫£ng
            </li>
            <li>
              <strong>CROSS JOIN:</strong> T√≠ch Descartes (kh√¥ng c·∫ßn
              relationship)
            </li>
          </ul>
          <div class="example">
            <div class="example-title">V√≠ d·ª• INNER JOIN:</div>
            <div class="code-block">
              SELECT o.order_id, c.first_name, c.last_name FROM orders o INNER
              JOIN customers c ON o.customer_id = c.customer_id;
            </div>
          </div>
          <div class="note">
            <strong>C√≥ th·ªÉ JOIN hai b·∫£ng kh√¥ng c√≥ quan h·ªá?</strong> C√≥! D√πng
            CROSS JOIN
            <div class="code-block">
              SELECT * FROM products p CROSS JOIN brands b;
            </div>
          </div>
        </div>

        <div class="topic-card">
          <h3>17. VIEW trong SQL</h3>
          <p>
            <strong>VIEW</strong> l√† b·∫£ng ·∫£o ƒë∆∞·ª£c t·∫°o t·ª´ c√¢u truy v·∫•n, kh√¥ng
            ch·ª©a d·ªØ li·ªáu th·ª±c t·∫ø.
          </p>
          <p>
            <strong>L·ª£i √≠ch:</strong> ƒê∆°n gi·∫£n h√≥a truy v·∫•n ph·ª©c t·∫°p, tƒÉng b·∫£o
            m·∫≠t
          </p>
          <div class="example">
            <div class="example-title">V√≠ d·ª•:</div>
            <div class="code-block">
              CREATE VIEW customer_orders AS SELECT c.customer_id, c.first_name,
              o.order_id, o.order_date FROM customers c JOIN orders o ON
              c.customer_id = o.customer_id;
            </div>
          </div>
        </div>

        <div class="topic-card">
          <h3>18. Subquery (Truy v·∫•n con)</h3>
          <p>Subquery l√† truy v·∫•n l·ªìng trong truy v·∫•n kh√°c</p>
          <div class="example">
            <div class="example-title">V√≠ d·ª•:</div>
            <div class="code-block">
              SELECT first_name, last_name FROM customers WHERE customer_id IN (
              SELECT customer_id FROM orders WHERE order_date > '2025-01-01' );
            </div>
          </div>
        </div>
      </div>

      <div id="functions" class="content-section">
        <div class="topic-card">
          <h3>15. C√°c Functions trong SQL</h3>
          <h4>H√†m t·ªïng h·ª£p:</h4>
          <ul>
            <li><strong>COUNT():</strong> ƒê·∫øm s·ªë l∆∞·ª£ng</li>
            <li><strong>SUM():</strong> T√≠nh t·ªïng</li>
            <li><strong>AVG():</strong> T√≠nh trung b√¨nh</li>
            <li><strong>MIN(), MAX():</strong> Gi√° tr·ªã nh·ªè nh·∫•t/l·ªõn nh·∫•t</li>
          </ul>
          <div class="code-block">
            SELECT AVG(list_price) AS avg_price FROM products;
          </div>

          <h4>H√†m chu·ªói:</h4>
          <ul>
            <li><strong>CONCAT():</strong> N·ªëi chu·ªói</li>
            <li><strong>LENGTH():</strong> ƒê·ªô d√†i chu·ªói</li>
            <li><strong>SUBSTRING():</strong> L·∫•y chu·ªói con</li>
          </ul>
          <div class="code-block">
            SELECT CONCAT(first_name, ' ', last_name) AS full_name FROM
            customers;
          </div>

          <h4>H√†m ng√†y th√°ng:</h4>
          <ul>
            <li><strong>CURRENT_DATE():</strong> Ng√†y hi·ªán t·∫°i</li>
            <li><strong>NOW():</strong> Ng√†y v√† gi·ªù hi·ªán t·∫°i</li>
            <li><strong>DATEADD():</strong> C·ªông th√™m ng√†y/th√°ng</li>
            <li><strong>DATEPART():</strong> Tr√≠ch xu·∫•t ph·∫ßn c·ªßa ng√†y</li>
            <li><strong>DATEDIFF():</strong> T√≠nh kho·∫£ng c√°ch gi·ªØa hai ng√†y</li>
            <li><strong>FORMAT():</strong> ƒê·ªãnh d·∫°ng ng√†y th√°ng</li>
          </ul>
          <div class="code-block">
            SELECT CURRENT_DATE AS today_date, NOW() AS current_time;
          </div>
        </div>

        <div class="topic-card">
          <h3>19. ROW_NUMBER, RANK, DENSE_RANK</h3>
          <h4>ROW_NUMBER()</h4>
          <p>G√°n s·ªë th·ª© t·ª± duy nh·∫•t cho m·ªói h√†ng, b·∫Øt ƒë·∫ßu t·ª´ 1</p>
          <div class="code-block">
            SELECT * FROM ( SELECT *, ROW_NUMBER() OVER ( ORDER BY list_price
            DESC ) AS row_num FROM products ) AS sub WHERE row_num = 3;
          </div>

          <h4>RANK()</h4>
          <p>
            G√°n th·ª© h·∫°ng, c√°c gi√° tr·ªã gi·ªëng nhau c√≥ c√πng th·ª© h·∫°ng, b·ªè qua th·ª©
            h·∫°ng ti·∫øp theo
          </p>
          <div class="code-block">
            SELECT *, RANK() OVER ( ORDER BY list_price DESC ) AS rank_num FROM
            products;
          </div>

          <h4>DENSE_RANK()</h4>
          <p>T∆∞∆°ng t·ª± RANK nh∆∞ng KH√îNG b·ªè qua th·ª© h·∫°ng</p>
          <div class="code-block">
            SELECT *, DENSE_RANK() OVER ( ORDER BY list_price DESC ) AS
            dense_rank_num FROM products;
          </div>

          <div class="note">
            <strong>So s√°nh:</strong>
            <ul>
              <li>ROW_NUMBER: 1, 2, 3, 4, 5... (lu√¥n duy nh·∫•t)</li>
              <li>RANK: 1, 2, 2, 4, 5... (b·ªè qua s·ªë 3)</li>
              <li>DENSE_RANK: 1, 2, 2, 3, 4... (kh√¥ng b·ªè qua)</li>
            </ul>
          </div>
        </div>

        <div class="topic-card">
          <h3>20. CTE (Common Table Expression)</h3>
          <p>
            CTE cho ph√©p t·∫°o b·∫£ng t·∫°m th·ªùi trong ph·∫°m vi m·ªôt truy v·∫•n, gi√∫p code
            d·ªÖ ƒë·ªçc v√† b·∫£o tr√¨ h∆°n.
          </p>
          <div class="example">
            <div class="example-title">V√≠ d·ª•:</div>
            <div class="code-block">
              WITH ProductSales AS ( SELECT product_id, SUM(quantity) AS
              total_quantity FROM order_items GROUP BY product_id ) SELECT *
              FROM ProductSales WHERE total_quantity > 10;
            </div>
          </div>
        </div>
      </div>

      <div id="advanced" class="content-section">
        <div class="topic-card">
          <h3>21. C√¢u l·ªánh ƒëi·ªÅu khi·ªÉn</h3>
          <h4>IF...ELSE</h4>
          <div class="code-block">
            DECLARE @quantity INT = 7; IF @quantity > 5 PRINT 'S·ªë l∆∞·ª£ng l·ªõn h∆°n
            5'; ELSE PRINT 'S·ªë l∆∞·ª£ng nh·ªè h∆°n ho·∫∑c b·∫±ng 5';
          </div>

          <h4>CASE</h4>
          <div class="code-block">
            SELECT product_id, product_name, CASE WHEN list_price > 1000 THEN
            'Expensive' WHEN list_price BETWEEN 500 AND 1000 THEN 'Medium' ELSE
            'Cheap' END AS price_category FROM products;
          </div>

          <h4>WHILE Loop</h4>
          <div class="code-block">
            DECLARE @counter INT = 1; WHILE @counter <= 5 BEGIN PRINT 'L·∫∑p s·ªë '
            + CAST(@counter AS VARCHAR); SET @counter = @counter + 1; END;
          </div>

          <h4>TRY...CATCH (Exception Handling)</h4>
          <div class="code-block">
            BEGIN TRY SELECT 1 / 0; END TRY BEGIN CATCH PRINT 'C√≥ l·ªói x·∫£y ra: '
            + ERROR_MESSAGE(); END CATCH;
          </div>
        </div>

        <div class="topic-card">
          <h3>22. UDF (User-Defined Function)</h3>
          <p>H√†m do ng∆∞·ªùi d√πng t·∫°o ƒë·ªÉ th·ª±c hi·ªán thao t√°c l·∫∑p l·∫°i</p>
          <h4>Scalar Function (tr·∫£ v·ªÅ gi√° tr·ªã ƒë∆°n)</h4>
          <div class="code-block">
            CREATE FUNCTION calculate_tax(@price DECIMAL(10, 2)) RETURNS
            DECIMAL(10, 2) AS BEGIN RETURN @price * 0.1; END;
          </div>

          <h4>Table-Valued Function (tr·∫£ v·ªÅ b·∫£ng)</h4>
          <div class="code-block">
            CREATE FUNCTION get_products_by_category(@cat_id INT) RETURNS TABLE
            AS RETURN ( SELECT * FROM products WHERE category_id = @cat_id );
          </div>
        </div>

        <div class="topic-card">
          <h3>23. Stored Procedure</h3>
          <p>
            T·∫≠p h·ª£p c√¢u l·ªánh SQL ƒë∆∞·ª£c l∆∞u tr·ªØ v√† c√≥ th·ªÉ g·ªçi th·ª±c thi nhi·ªÅu l·∫ßn
          </p>
          <div class="code-block">
            CREATE PROCEDURE get_products AS BEGIN SELECT * FROM products; END;
            -- G·ªçi procedure EXEC get_products;
          </div>

          <div class="note">
            <strong>SP vs UDF:</strong>
            <ul>
              <li>
                SP: C√≥ th·ªÉ th·ª±c hi·ªán INSERT/UPDATE/DELETE, kh√¥ng b·∫Øt bu·ªôc tr·∫£ v·ªÅ
                gi√° tr·ªã
              </li>
              <li>UDF: Ch·ªâ ƒë·ªçc d·ªØ li·ªáu, b·∫Øt bu·ªôc tr·∫£ v·ªÅ gi√° tr·ªã</li>
            </ul>
          </div>
        </div>

        <div class="topic-card">
          <h3>24. Exception Handling</h3>
          <p>X·ª≠ l√Ω ngo·∫°i l·ªá b·∫±ng TRY...CATCH ƒë·ªÉ ph√°t hi·ªán v√† x·ª≠ l√Ω l·ªói</p>
          <div class="code-block">
            BEGIN TRY -- Code c√≥ th·ªÉ g√¢y l·ªói INSERT INTO orders VALUES (NULL,
            NULL); END TRY BEGIN CATCH PRINT 'L·ªói: ' + ERROR_MESSAGE(); PRINT
            'D√≤ng l·ªói: ' + CAST(ERROR_LINE() AS VARCHAR); END CATCH;
          </div>
        </div>

        <div class="topic-card">
          <h3>25. Transaction</h3>
          <p>
            Nh√≥m c√°c thao t√°c SQL th·ª±c thi nh∆∞ m·ªôt ƒë∆°n v·ªã, ƒë·∫£m b·∫£o t√≠nh to√†n v·∫πn
            d·ªØ li·ªáu
          </p>
          <div class="code-block">
            BEGIN TRANSACTION; UPDATE products SET stock = stock - 1 WHERE
            product_id = 1; IF @@ERROR <> 0 ROLLBACK; ELSE COMMIT;
          </div>

          <div class="note">
            <strong>C√°c l·ªánh Transaction:</strong>
            <ul>
              <li><strong>BEGIN TRANSACTION:</strong> B·∫Øt ƒë·∫ßu giao d·ªãch</li>
              <li><strong>COMMIT:</strong> X√°c nh·∫≠n v√† l∆∞u thay ƒë·ªïi</li>
              <li><strong>ROLLBACK:</strong> H·ªßy giao d·ªãch n·∫øu c√≥ l·ªói</li>
            </ul>
          </div>
        </div>

        <div class="topic-card">
          <h3>26. Trigger</h3>
          <p>
            Stored procedure ƒë·∫∑c bi·ªát t·ª± ƒë·ªông th·ª±c thi khi c√≥ s·ª± ki·ªán x·∫£y ra
          </p>
          <h4>ƒê·∫∑c ƒëi·ªÉm:</h4>
          <ul>
            <li>T·ª± ƒë·ªông th·ª±c thi khi c√≥ INSERT, UPDATE, DELETE</li>
            <li>Kh√¥ng c√≥ tham s·ªë ƒë·∫ßu v√†o</li>
            <li>Kh√¥ng tr·∫£ v·ªÅ gi√° tr·ªã</li>
            <li>C√≥ th·ªÉ h·ªßy b·ªè thao t√°c b·∫±ng ROLLBACK</li>
          </ul>

          <h4>Lo·∫°i Trigger:</h4>
          <ul>
            <li>
              <strong>DML Trigger:</strong> K√≠ch ho·∫°t v·ªõi INSERT, UPDATE, DELETE
            </li>
            <li>
              <strong>DDL Trigger:</strong> K√≠ch ho·∫°t v·ªõi CREATE, ALTER, DROP
            </li>
          </ul>

          <div class="example">
            <div class="example-title">V√≠ d·ª•:</div>
            <div class="code-block">
              CREATE TRIGGER trg_update_stock ON orders AFTER INSERT AS BEGIN
              UPDATE products SET stock = stock - 1 WHERE product_id = (SELECT
              product_id FROM inserted); END;
            </div>
          </div>
        </div>

        <div class="topic-card">
          <h3>27. ACID</h3>
          <p>Thu·ªôc t√≠nh c·ªßa h·ªá th·ªëng CSDL ƒë·∫£m b·∫£o t√≠nh to√†n v·∫πn d·ªØ li·ªáu:</p>
          <div class="note">
            <ul>
              <li>
                <strong>Atomicity (T√≠nh nguy√™n t·ª≠):</strong> Giao d·ªãch th·ª±c thi
                to√†n b·ªô ho·∫∑c kh√¥ng th·ª±c thi g√¨ c·∫£
              </li>
              <li>
                <strong>Consistency (T√≠nh nh·∫•t qu√°n):</strong> ƒê·∫£m b·∫£o d·ªØ li·ªáu
                h·ª£p l·ªá tr∆∞·ªõc v√† sau giao d·ªãch
              </li>
              <li>
                <strong>Isolation (T√≠nh bi·ªát l·∫≠p):</strong> C√°c giao d·ªãch kh√¥ng
                ·∫£nh h∆∞·ªüng l·∫´n nhau
              </li>
              <li>
                <strong>Durability (T√≠nh b·ªÅn v·ªØng):</strong> D·ªØ li·ªáu ƒë∆∞·ª£c l∆∞u
                vƒ©nh vi·ªÖn sau khi ho√†n t·∫•t
              </li>
            </ul>
          </div>
        </div>
      </div>

      <div id="normalization" class="content-section">
        <div class="topic-card">
          <h3>13. Relationship v√† Chu·∫©n h√≥a CSDL</h3>
          <h4>Relationship (Quan h·ªá gi·ªØa c√°c b·∫£ng)</h4>
          <ul>
            <li><strong>1-1:</strong> M·ªôt-m·ªôt (v√≠ d·ª•: User - Profile)</li>
            <li><strong>1-N:</strong> M·ªôt-nhi·ªÅu (v√≠ d·ª•: Customer - Orders)</li>
            <li>
              <strong>N-N:</strong> Nhi·ªÅu-nhi·ªÅu (v√≠ d·ª•: Products - Orders qua
              Order_Items)
            </li>
          </ul>

          <h4>1NF (First Normal Form)</h4>
          <p>
            M·ªói c·ªôt ch·ªâ ch·ª©a gi√° tr·ªã ƒë∆°n, kh√¥ng c√≥ t·∫≠p h·ª£p/m·∫£ng, m·ªói h√†ng duy
            nh·∫•t (c√≥ kh√≥a ch√≠nh)
          </p>
          <div class="example">
            <div class="example-title">V√≠ ph·∫°m 1NF:</div>
            <table class="comparison-table">
              <tr>
                <th>student_id</th>
                <th>name</th>
                <th>courses</th>
              </tr>
              <tr>
                <td>1</td>
                <td>An</td>
                <td>Math, Physics</td>
              </tr>
            </table>
            <p style="margin-top: 10px">
              ‚ùå C·ªôt "courses" ch·ª©a nhi·ªÅu gi√° tr·ªã ‚Üí Vi ph·∫°m 1NF
            </p>
          </div>

          <h4>2NF (Second Normal Form)</h4>
          <p>
            Th·ªèa m√£n 1NF + kh√¥ng c√≥ ph·ª• thu·ªôc b·ªô ph·∫≠n (m·ªçi c·ªôt ph·∫£i ph·ª• thu·ªôc
            v√†o TO√ÄN B·ªò kh√≥a ch√≠nh, k·ªÉ c·∫£ composite key)
          </p>
          <div class="example">
            <div class="example-title">V√≠ ph·∫°m 2NF:</div>
            <p>Kh√≥a ch√≠nh: (order_id, product_id)</p>
            <table class="comparison-table">
              <tr>
                <th>order_id</th>
                <th>product_id</th>
                <th>product_name</th>
              </tr>
            </table>
            <p style="margin-top: 10px">
              ‚ùå product_name ch·ªâ ph·ª• thu·ªôc product_id, kh√¥ng ph·ª• thu·ªôc order_id
              ‚Üí Vi ph·∫°m 2NF
            </p>
          </div>

          <h4>3NF (Third Normal Form)</h4>
          <p>
            Th·ªèa m√£n 2NF + kh√¥ng c√≥ ph·ª• thu·ªôc b·∫Øc c·∫ßu (c·ªôt kh√¥ng ph·∫£i kh√≥a ch√≠nh
            kh√¥ng ƒë∆∞·ª£c ph·ª• thu·ªôc v√†o c·ªôt kh√°c kh√¥ng ph·∫£i kh√≥a ch√≠nh)
          </p>
          <div class="example">
            <div class="example-title">V√≠ ph·∫°m 3NF:</div>
            <p>Kh√≥a ch√≠nh: student_id</p>
            <table class="comparison-table">
              <tr>
                <th>student_id</th>
                <th>department</th>
                <th>department_head</th>
              </tr>
            </table>
            <p style="margin-top: 10px">
              ‚ùå department_head ph·ª• thu·ªôc v√†o department, kh√¥ng tr·ª±c ti·∫øp v√†o
              student_id ‚Üí Vi ph·∫°m 3NF
            </p>
          </div>

          <div class="note">
            <strong>T√≥m t·∫Øt:</strong>
            <ul>
              <li><strong>1NF:</strong> Gi√° tr·ªã ƒë∆°n, c√≥ kh√≥a ch√≠nh</li>
              <li><strong>2NF:</strong> 1NF + kh√¥ng ph·ª• thu·ªôc b·ªô ph·∫≠n</li>
              <li><strong>3NF:</strong> 2NF + kh√¥ng ph·ª• thu·ªôc b·∫Øc c·∫ßu</li>
            </ul>
          </div>
        </div>
      </div>

      <footer>
        <div
          style="
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            margin-bottom: 20px;
          "
        >
          <div style="font-size: 48px">üéì</div>
          <div>
            <h2 style="margin: 0; font-size: 1.8em">Tu·∫•n v√† Qu√¢n</h2>
            <p style="margin: 5px 0 0 0; opacity: 0.9">
              Database Theory - Learning Platform
            </p>
          </div>
        </div>
        <p>üìö T√†i li·ªáu h·ªçc SQL to√†n di·ªán t·ª´ c∆° b·∫£n ƒë·∫øn n√¢ng cao</p>
        <p>üí° N·∫øu c√≥ √≠ch th√¨ quay l·∫°i c·∫£m ∆°n c√¢u ƒëeeeee</p>
        <p style="margin-top: 15px">
          <a
            href="https://www.facebook.com/tuanvaquan"
            target="_blank"
            style="
              color: white;
              text-decoration: none;
              padding: 10px 20px;
              background: rgba(255, 255, 255, 0.2);
              border-radius: 25px;
              display: inline-block;
              transition: all 0.3s;
            "
          >
            üìò Facebook: Tu·∫•n v√† Qu√¢n
          </a>
        </p>
        <p style="margin-top: 20px; opacity: 0.8; font-size: 0.9em">
          ¬© 2025 Database Theory Learning Platform | Created with ‚ù§Ô∏è
        </p>
      </footer>
    </div>

    <script>
      // Tab navigation
      const tabs = document.querySelectorAll(".nav-tab");
      const sections = document.querySelectorAll(".content-section");

      tabs.forEach((tab) => {
        tab.addEventListener("click", () => {
          const targetSection = tab.getAttribute("data-section");

          tabs.forEach((t) => t.classList.remove("active"));
          sections.forEach((s) => s.classList.remove("active"));

          tab.classList.add("active");
          document.getElementById(targetSection).classList.add("active");

          // Scroll to top
          window.scrollTo({ top: 0, behavior: "smooth" });
        });
      });

      // Search functionality
      const searchInput = document.getElementById("searchInput");
      const allCards = document.querySelectorAll(".topic-card");

      searchInput.addEventListener("input", (e) => {
        const searchTerm = e.target.value.toLowerCase();

        allCards.forEach((card) => {
          const text = card.textContent.toLowerCase();
          const parent = card.closest(".content-section");

          if (text.includes(searchTerm) || searchTerm === "") {
            card.style.display = "block";
            if (searchTerm !== "") {
              // Show all sections when searching
              sections.forEach((s) => s.classList.add("active"));
            }
          } else {
            card.style.display = "none";
          }
        });

        // If search is cleared, return to current tab
        if (searchTerm === "") {
          const activeTab = document.querySelector(".nav-tab.active");
          const targetSection = activeTab.getAttribute("data-section");
          sections.forEach((s) => s.classList.remove("active"));
          document.getElementById(targetSection).classList.add("active");
        }
      });

      // Smooth scroll for anchor links
      document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
        anchor.addEventListener("click", function (e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute("href"));
          if (target) {
            target.scrollIntoView({ behavior: "smooth" });
          }
        });
      });

      // Add animation on scroll
      const observerOptions = {
        threshold: 0.1,
        rootMargin: "0px 0px -50px 0px",
      };

      const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.style.opacity = "1";
            entry.target.style.transform = "translateY(0)";
          }
        });
      }, observerOptions);

      allCards.forEach((card) => {
        card.style.opacity = "0";
        card.style.transform = "translateY(20px)";
        card.style.transition = "opacity 0.5s, transform 0.5s";
        observer.observe(card);
      });
    </script>
  </body>
</html>
